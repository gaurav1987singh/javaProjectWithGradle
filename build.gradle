plugins {
  id "java"
  id "org.sonarqube" version "2.7"
  id "maven-publish"
  id "maven"
}

repositories {
    mavenLocal()
    maven {
           url = uri("https://repo.maven.apache.org/maven2")
    }
}

group = "com.sample.program"
version = "1.0"

dependencies {
		testCompile 'junit:junit:4.12'
	}

jar {
    manifest {
        attributes 'Main-Class': 'HelloWorld'
    }
}

def localMavenRepo = 'file://' + new File(System.getProperty('user.home'), '.m2/repository').absolutePath
uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "${localMavenRepo}/")
            pom.version = '1.0Maven'
            pom.artifactId = 'myMavenName'
        }
    }
}
